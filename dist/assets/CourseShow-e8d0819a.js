import{_ as d,o as c,c as a,b as e,M as k,m,a as v,r as i,e as u,t as r,f as _,h as n,w,k as b,l as I}from"./index-b3de40db.js";import{_ as y}from"./verificar-a2122b4b.js";const A={};function M(o,s){return c(),a("span",null,[e("button",{onClick:s[0]||(s[0]=h=>o.$router.back())},"Volver")])}const B=d(A,[["render",M]]),D={name:"Course",components:{GoBack:B,Modal:k},data(){return{course:null,modalActive:!1}},computed:{...m({fetchImageURL:o=>o.fetchImageURL}),...m("cart",{cart:o=>o.items})},async created(){await this.initData(),this.$watch(()=>this.$route.params,this.initData)},methods:{async initData(){const s=await(await fetch(`https://api-node.up.railway.app/api/v1/productos/${this.$route.params.title}`)).json();this.course=s},fetchImg(o){return this.fetchImageURL+o},...v("cart",{addCourseToCart:"addCourseToCart",eliminateCourseInCart:"eliminateCourseInCart"}),toggleModal(){this.modalActive=!this.modalActive},checkCourseInCart(o){return this.cart.includes(o)}}},N={key:0,class:"showCourse"},S=["src"],T={class:"showCourse__content"},V={class:"showCourse__ul"},U={class:"showCourse__author",href:"#"},x={key:0},G={key:1},L=e("img",{class:"icon",src:b,alt:""},null,-1),R=e("img",{class:"item__delete icon click",src:I,alt:""},null,-1),j=e("div",{class:"modal--addToCart"},[e("h1",null,"Curso añadido a la cesta"),e("img",{class:"icon--large",src:y,alt:""})],-1);function E(o,s,h,Q,t,l){const C=i("GoBack"),p=i("router-view"),g=i("Modal");return c(),a("div",null,[u(C),t.course?(c(),a("section",N,[e("img",{src:l.fetchImg(t.course.image),alt:"",class:"showCourse__img"},null,8,S),e("article",T,[e("h1",null,r(t.course.title),1),e("ul",V,[e("li",null,[_(" Un curso de "),e("a",U,r(t.course.author),1)]),e("li",null," Nivel: "+r(t.course.level),1),e("li",null," Audio: "+r(t.course.language),1),e("li",null," Duración: "+r(t.course.duration)+" hora ",1),t.course.subtitle?(c(),a("li",x," Subtítulos: "+r(t.course.subtitle.join(", ")),1)):n("",!0),t.course.subtitle?n("",!0):(c(),a("li",G," Sin subtítulos "))]),l.checkCourseInCart(t.course.id)?n("",!0):(c(),a("button",{key:0,onClick:s[0]||(s[0]=f=>(o.addCourseToCart(t.course),l.toggleModal())),class:"button--large"},[L,_(" Añadir al carrito "),e("span",null,r(t.course.price)+"€",1)])),l.checkCourseInCart(t.course.id)?(c(),a("button",{key:1,onClick:s[1]||(s[1]=f=>o.eliminateCourseInCart(t.course.id)),class:"button--large"},[R,_(" Quitar del carrito ")])):n("",!0)]),e("article",null,[u(p)])])):n("",!0),u(g,{onClose:l.toggleModal,modalActive:t.modalActive},{default:w(()=>[j]),_:1},8,["onClose","modalActive"])])}const F=d(D,[["render",E]]);export{F as default};
